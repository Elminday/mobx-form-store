{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 7424cb264217a7393a44","webpack:///C:/SHD/mobx-form-store/src/index.js","webpack:///./~/process/browser.js","webpack:///external \"mobx\""],"names":["DEFAULT_SERVER_ERROR_MESSAGE","isSame","val1","val2","Date","valueOf","observableChanged","change","store","dataChanges","set","name","newValue","get","dataServer","delete","processSaveResponse","updates","response","options","log","status","errorFields","error","serverError","Object","assign","dataErrors","keys","concat","error_field","forEach","field","autoSaveInterval","data","value","key","afterSave","handleError","err","server","errorMessage","logError","FormStore","idProperty","minRefreshInterval","noop","console","bind","isReadOnly","isReady","undefined","create","beforeRefresh","afterRefresh","beforeSave","lastSync","propertyBeingEdited","saveQueue","Promise","resolve","Error","storeDataChanged","observeDisposer","clear","length","save","skipPropertyBeingEdited","keepServerError","reset","Array","isArray","hasChanges","validated","prop","temp","now","past","isLoading","result","saveOptions","allowCreate","saveAll","then","toJS","property","isSaving","saveNotification","active","errors","push","isInProgress","canSave","size"],"mappings":"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ACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,wBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,4BAA2B;AAC3B;AACA;AACA;AACA,6BAA4B,UAAU;;;;;;;ACnLtC,gD","file":"FormStore.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"mobx\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"FormStore\", [\"mobx\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"FormStore\"] = factory(require(\"mobx\"));\n\telse\n\t\troot[\"FormStore\"] = factory(root[\"mobx\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_2__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 7424cb264217a7393a44\n **/","import { observable, observe, autorunAsync, action, computed, asMap } from 'mobx';\n\nconst DEFAULT_SERVER_ERROR_MESSAGE = 'Lost connection to server';\n\nfunction isSame(val1, val2) {\n  /* eslint-disable eqeqeq */\n    return val1 == val2 || (val1 instanceof Date && val2 instanceof Date && val1.valueOf() == val2.valueOf());\n  /* eslint-enable eqeqeq */\n}\n\n/**\n * Observes data and if changes come, add them to dataChanges,\n * unless it resets back to dataServer value, then clear that change\n * @this {FormStore}\n * @param {Object} change\n * @param {String} change.name - name of property that changed\n * @param {*} change.newValue\n */\nfunction observableChanged(change) {\n    const store = this;\n    action(() => {\n        store.dataChanges.set(change.name, change.newValue);\n\n    if (store.isSame(store.dataChanges.get(change.name), store.dataServer[change.name])) {\n        store.dataChanges.delete(change.name);\n    }\n})();\n}\n/**\n * Records successfully saved data as saved\n * and reverts fields server indicates to be in error\n * @param {FormStore} store\n * @param {Object} updates - what we sent to the server\n * @param {Object} response\n * @param {String} [response.status] - 'error' indicates one or more fields were invalid and not saved.\n * @param {String|Object} [response.error] - either a single error message to show to user if string or field-specific error messages if object\n * @param {String|Array} [response.error_field] - name of the field (or array of field names) in error\n * If autoSave is enabled, any field in error_field for which there is no error message in response.error will be reverted\n * to prevent autoSave from endlessly trying to save the changed field.\n * @returns response.status\n */\nasync function processSaveResponse(store, updates, response) {\n    store.options.log(`[${store.options.name}] Response received from server.`);\n\n    if (response.status === 'error') {\n        action(() => {\n            let errorFields = [];\n        if (response.error) {\n            if (typeof response.error === 'string') {\n                store.serverError = response.error;\n            } else {\n                Object.assign(store.dataErrors, response.error);\n                errorFields = Object.keys(response.error);\n            }\n        }\n\n        // Supports an array of field names in error_field or a string\n        errorFields = errorFields.concat(response.error_field);\n        errorFields.forEach((field) => {\n            if (store.options.autoSaveInterval && !store.dataErrors[field] && store.isSame(updates[field], store.data[field])) {\n            store.data[field] = store.dataServer[field]; // revert or it'll keep trying to autosave it\n        }\n        delete updates[field]; // don't save it as the new dataServer value\n    });\n    })();\n    } else {\n        store.serverError = null;\n    }\n\n    Object.assign(store.dataServer, updates);\n\n    action(() => {\n        store.dataChanges.forEach((value, key) => {\n        if (store.isSame(value, store.dataServer[key])) {\n        store.dataChanges.delete(key);\n    }\n});\n})();\n\n    if (typeof store.options.afterSave === 'function') {\n        await store.options.afterSave(store, updates, response);\n    }\n\n    return response.status;\n}\n\n/**\n * @param {FormStore} store\n * @param {Error} err\n */\nfunction handleError(store, err) {\n    if (typeof store.options.server.errorMessage === 'function') {\n        store.serverError = store.options.server.errorMessage(err);\n    } else {\n        store.serverError = store.options.server.errorMessage;\n    }\n\n    store.options.logError(err);\n}\n\nclass FormStore {\n    /** @private */\n    options = {\n            name: 'FormStore', // used in log statements\n            idProperty: null,\n            autoSaveInterval: 0, // in ms\n            minRefreshInterval: 0, // in ms\n            log: function noop() {},\n            logError: console.error.bind(console), // eslint-disable-line\n            /** @type {Boolean|function(object): Boolean} passed status object */\n            isReadOnly: (status) => !status.isReady,\n    server: {\n        /** @type {undefined|function: Promise|Object} - MUST resolve to an object with all data properties present even if all have null values */\n        get: undefined,\n        /** @type {undefined|function(object): Promise|Object} passed updates object - see processSaveResponse for expected error response properties */\n        set: undefined,\n        /** @type {undefined|function(object}: Promise|Object} passed updates object - see processSaveResponse for expected error response properties */\n            create: undefined,\n        /** @type {String|function(error): String} passed error object */\n            errorMessage: DEFAULT_SERVER_ERROR_MESSAGE,\n    },\n    /** @type {undefined|function(FormStore): Promise|Boolean} passed store instance - if it returns false, no refresh will be performed */\n    beforeRefresh: undefined,\n    /** @type {undefined|function(FormStore): Promise} passed store instance */\n    afterRefresh: undefined,\n    /** @type {undefined|function(FormStore, object, object): Promise|Boolean} passed store instance, updates object and saveOptions object,\n     * (i.e. with skipPropertyBeingEdited, etc booleans) - if it returns false, no save will be performed */\n    beforeSave: undefined,\n    /** @type {undefined|function(FormStore, object, object): Promise} passed store instance, updates object and response object\n     * - updates object will already have fields removed from it that response indicates are in error */\n    afterSave: undefined,\n};\n\n/**\n * @private\n * @type {null|Date}\n */\nlastSync = null;\n/** @private */\npropertyBeingEdited = null; // property currently being edited as set by startEditing()\n/** @private */\nsaveQueue = Promise.resolve();\n/** @private */\nobserveDisposer;\n\n/** @private */\n@observable isReady = false; // true after initial data load (refresh) has completed\n/** @private */\n@observable isLoading = false;\n/** @private */\n@observable isSaving = false;\n/** @private */\n@observable serverError = null; // stores both communication error and any explicit response.error returned to save\n/** @private */\n@observable dataChanges = asMap(); // changes that will be sent to server\n\n/** @private */\ndataServer = {}; // data returned by the server (kept for checking old values)\n\n@observable data = {};\n// stores validation error message if any for each field (data structure is identical to data)\n@observable dataErrors = {};\n// active is set to true right after a save is completed and status is set to response.status\n// this allows a confirmation message to be shown to user and to drive its dismissal,\n// UI can set this observable's active property back to false.\n@observable saveNotification = { active: false, status: null };\n\nisSame = isSame;\n\nconstructor(options, data) {\n    const store = this;\n    Object.assign(store.options, options);\n    if (!data && typeof store.options.server.get !== 'function') {\n        throw new Error('options must specify server get function or supply initial data object to constructor');\n    }\n    if (!typeof store.options.server.create !== 'function' && typeof store.options.server.set !== 'function') {\n        throw new Error('options must specify server set and/or create function(s)');\n    }\n    store.options.server.errorMessage = store.options.server.errorMessage || DEFAULT_SERVER_ERROR_MESSAGE;\n\n    // register observe for changes to properties in store.data as well as to complete replacement of store.data object\n    const storeDataChanged = observableChanged.bind(store);\n    store.observeDisposer = observe(store.data, storeDataChanged);\n    observe(store, 'data', () => {\n        store.observeDisposer && store.observeDisposer();\n    store.observeDisposer = observe(store.data, storeDataChanged);\n\n    store.dataChanges.clear();\n    action(() => {\n        Object.keys(store.data).forEach((key) => {\n        const value = store.data[key];\n    if (!store.isSame(value, store.dataServer[key])) {\n        store.dataChanges.set(key, value);\n    }\n});\n})();\n});\n\n    // auto-save by observing dataChanges keys\n    if (store.options.autoSaveInterval) {\n        autorunAsync(() => {\n            if ((!store.options.idProperty || this.data[store.options.idProperty]) && this.dataChanges.keys().length) {\n            store.options.log(`[${store.options.name}] Auto-save started...`);\n\n            store.save({ skipPropertyBeingEdited: true, keepServerError: true });\n        }\n    }, store.options.autoSaveInterval);\n    }\n\n    if (data) {\n        store.dataServer = data;\n        store.reset();\n        store.isReady = true;\n    }\n}\n\n/**\n * Marks data property as edit-in-progress and therefore it should not be autosaved - to be called on field focus\n * @param {String|Array} name - field/property name (Array format supports json schema forms)\n */\nstartEditing(name) {\n    const store = this;\n    store.propertyBeingEdited = Array.isArray(name) ? name[0] : name;\n}\n\n// to be called on field blur, any field name parameter is ignored\nstopEditing() {\n    const store = this;\n    store.propertyBeingEdited = null;\n    if (store.status.hasChanges) {\n        // This will trigger autorun in case it already ran while we were editing:\n        action(() => {\n            const key = store.dataChanges.keys()[0];\n        const value = store.dataChanges.get(key);\n        store.dataChanges.delete(key);\n        store.dataChanges.set(key, value);\n    })();\n    }\n}\n\n/**\n * Returns the value of a field/property, optionally returning the last saved value for not validated/in progress fields\n * Without validated:true, using this function is not necessary, can just access store.data[name].\n * @param {String|Array} name - field/property name (Array format supports json schema forms)\n * @param {Boolean} [validated] - only return validated value, i.e. if it's in error, fallback to dataServer\n * @param {Boolean} [skipPropertyBeingEdited] - used only when validated is true to again fallback to dataServer\n * @returns {*}\n */\ngetValue(name, validated, skipPropertyBeingEdited) {\n    const store = this;\n    const prop = Array.isArray(name) ? name[0] : name;\n    if (validated) {\n        // check if property is being edited or invalid\n        if ((skipPropertyBeingEdited && prop === store.propertyBeingEdited) || store.dataErrors[prop]) {\n            return store.dataServer[prop];\n        }\n    }\n    return store.data[prop];\n}\n\n// Returns the last saved (or server-provided) set of data\n// - in an afterSave callback it already includes merged updates that were not in error\ngetSavedData() {\n    const store = this;\n    return store.dataServer;\n}\n\n/**\n * @returns {{errors: Array<String>, isReady: Boolean, isInProgress: Boolean, canSave: Boolean, hasChanges: Boolean, isReadOnly: Boolean}}\n * errors is an array of any serverError plus all the error messages from all fields (in no particular order)\n * (serverError is either the string returned in response.error or a communication error and is cleared on every refresh and save)\n * isReady indicates initial data load (refresh) has been completed and user can start entering data\n * isInProgress indicates either a refresh or a save is in progress\n * canSave is true when no refresh or save is in progress and there are no validation errors\n * hasChanges is true when one or more data properties has a value that's different from last-saved/server-loaded data.\n * isReadOnly by default is true when isReady is false but can be set to the return value of an\n *            optional callback to which this status object (without isReadOnly) is passed\n */\n@computed get status() {\n    const store = this;\n    let errors = [];\n\n    if (store.serverError) {\n        errors = [store.serverError];\n    }\n\n    Object.keys(store.dataErrors).forEach((key) => {\n        if (store.dataErrors[key]) {\n        errors.push(store.dataErrors[key]);\n    }\n});\n\n    const status = {\n        errors,\n        isReady: store.isReady,\n        isInProgress: store.isLoading || store.isSaving,\n        canSave: !store.isLoading && !store.isSaving && (store.serverError ? errors.length === 1 : errors.length === 0),\n        hasChanges: !!store.dataChanges.size,\n    };\n    if (typeof store.options.isReadOnly === 'function') {\n        status.isReadOnly = store.options.isReadOnly(status);\n    } else {\n        status.isReadOnly = store.options.isReadOnly;\n    }\n    return status;\n}\n\n/**\n * Copies dataServer into data and resets the error observable.\n * Mostly for internal use by refresh().\n */\nreset() {\n    const store = this;\n\n    action(() => {\n        store.data = Object.assign({}, store.dataServer);\n\n    // setup error observable\n    const temp = {};\n    Object.keys(store.data).forEach((key) => {\n        temp[key] = null;\n});\n    store.dataErrors = temp;\n})();\n}\n\n/**\n * Loads data from server unless a refresh was performed within the last minRefreshInterval (i.e. 15 minutes).\n * If there are pending (and ready to save) changes, triggers save instead and 'resets the clock' on minRefreshInterval.\n * For a store with idProperty defined, if that data property is falsy, loads from server only the very first time refresh() is called.\n * @returns {Promise|Boolean} resolves to true if refresh actually performed, false if skipped\n */\nasync refresh() {\n    const store = this;\n    if (!store.options.server.get || (store.isReady && store.options.idProperty && !store.data[store.options.idProperty])) {\n        return false;\n    }\n    store.options.log(`[${store.options.name}] Starting data refresh...`);\n    const now = new Date();\n    const past = new Date(Date.now() - store.options.minRefreshInterval);\n\n    // check if lastSync is between now and 15 minutes ago\n    if (past < store.lastSync && store.lastSync < now) {\n        store.options.log(`[${store.options.name}] Data refreshed within last ${store.options.minRefreshInterval / 1000} seconds.`);\n        return false;\n    }\n\n    if (store.status.hasChanges && (!store.options.idProperty || store.data[store.options.idProperty])) {\n        store.options.log(`[${store.options.name}] Unsaved changes detected...`);\n\n        if (await store.save()) {\n            store.options.log(`[${store.options.name}] Postponing refresh for ${store.options.minRefreshInterval / 1000} seconds.`);\n            store.lastSync = new Date();\n            return false;\n        }\n    }\n\n    if (typeof store.options.beforeRefresh === 'function') {\n        if (await store.options.beforeRefresh(store) === false) {\n            return false;\n        }\n    }\n\n    store.options.log(`[${store.options.name}] Refreshing data...`);\n    store.isLoading = true;\n\n    try {\n        const result = await store.options.server.get();\n        store.options.log(`[${store.options.name}] Data received from server.`);\n\n        action(() => {\n            store.dataServer = result;\n        store.serverError = null;\n        store.lastSync = new Date();\n        store.reset();\n    })();\n\n        if (typeof store.options.afterRefresh === 'function') {\n            await store.options.afterRefresh(store);\n        }\n\n        store.options.log(`[${store.options.name}] Refresh finished.`);\n        if (!store.isReady) store.isReady = true;\n    } catch (err) {\n        handleError(store, err);\n    }\n\n    store.isLoading = false;\n    return true;\n}\n\n/**\n * Sends ready-to-save data changes to the server (normally using server.set unless it's undefined, then with server.create)\n * For a store with idProperty defined when that property is falsy and allowCreate=true, uses server.create instead.\n * Calls to save() while one is in progress are queued.\n * @param {Object} saveOptions - the object as a whole is also passed to the beforeSave callback\n * @param {Boolean} [saveOptions.allowCreate=false] - for a store with idProperty defined, this must be true\n *                                                    for the save to actually be performed when that property is falsy.\n * @param {Boolean} [saveOptions.saveAll=false] - normally save only sends changes and if no changes, no save is done.\n *                                                if saveAll=true, sends the full data object regardless of changes.\n * @param {Boolean} [saveOptions.skipPropertyBeingEdited=false] - true in an auto-save\n * @param {Boolean} [saveOptions.keepServerError=false] - true in an auto-save\n * @returns {Promise|Boolean} resolves to true if save actually performed, false if skipped\n */\nsave(saveOptions = {}) {\n    const { allowCreate = false, saveAll = false, skipPropertyBeingEdited = false, keepServerError = false } = saveOptions;\n    const store = this;\n\n    store.saveQueue = store.saveQueue.then(\n            async () => {\n            if (store.options.idProperty && !store.data[store.options.idProperty] && !allowCreate) {\n        return false;\n    }\n    store.options.log(`[${store.options.name}] Starting data save...`);\n\n    let updates;\n    if (saveAll) {\n        updates = Object.assign({}, store.data);\n    } else {\n        updates = store.dataChanges.toJS();\n\n        if (Object.keys(updates).length === 0) {\n            store.options.log(`[${store.options.name}] No changes to save.`);\n            return false;\n        }\n\n        // check if we have property currently being edited in changes\n        // or if a property has an error\n        Object.keys(updates).forEach((property) => {\n            if (skipPropertyBeingEdited && property === store.propertyBeingEdited) {\n            store.options.log(`[${store.options.name}] Property \"${property}\" is being edited.`);\n            delete updates[property];\n        }\n\n        if (store.dataErrors[property]) {\n            store.options.log(`[${store.options.name}] Property \"${property}\" is not validated.`);\n            delete updates[property];\n        }\n\n        if (store.isSame(updates[property], store.dataServer[property])) {\n            store.options.log(`[${store.options.name}] Property \"${property}\" is same as on the server.`);\n            delete updates[property];\n            store.dataChanges.delete(property);\n        }\n    });\n\n        if (Object.keys(updates).length === 0) {\n            store.options.log(`[${store.options.name}] No changes ready to save.`);\n            return false;\n        }\n    }\n\n    if (typeof store.options.beforeSave === 'function') {\n        if (await store.options.beforeSave(store, updates, saveOptions) === false) {\n            return false;\n        }\n    }\n\n    store.options.log(`[${store.options.name}] Saving data...`);\n    store.options.log(updates);\n    store.isSaving = true;\n\n    try {\n        if (!keepServerError) {\n            store.serverError = null;\n        }\n\n        let response;\n        if (store.options.server.set && (!store.options.idProperty || !store.options.server.create || store.data[store.options.idProperty])) {\n            response = await store.options.server.set(updates);\n        } else {\n            response = await store.options.server.create(updates);\n        }\n\n        store.saveNotification.status = await processSaveResponse(store, updates, response);\n        store.saveNotification.active = true;\n\n        store.options.log(`[${store.options.name}] Save finished.`);\n    } catch (err) {\n        handleError(store, err);\n    }\n\n    store.isSaving = false;\n    return true;\n}\n);\n\n    return store.saveQueue;\n}\n}\n\nexport default FormStore;\n\n\n\n/** WEBPACK FOOTER **\n ** C:/SHD/mobx-form-store/src/index.js\n **/","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/process/browser.js\n ** module id = 1\n ** module chunks = 0\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"mobx\"\n ** module id = 2\n ** module chunks = 0\n **/"],"sourceRoot":""}